{"version":3,"sources":["index.js"],"names":["endpoint","proxy","window","$","document","querySelector","bind","Node","prototype","on","name","fn","addEventListener","form","recipesGrid","fetchRecipes","query","res","fetch","data","json","handleSubmit","e","preventDefault","fetchAndDisplay","value","submit","disabled","recipes","displayRecipes","results","console","log","html","map","recipe","title","ingredients","thumbnail","href","innerHTML","join"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,gCAAjB;AACA,MAAMC,KAAK,GAAI,sCAAf;AACAC,MAAM,CAACC,CAAP,GAAWC,QAAQ,CAACC,aAAT,CAAuBC,IAAvB,CAA4BF,QAA5B,CAAX,EAAkD;AAClD;;AACAG,IAAI,CAACC,SAAL,CAAeC,EAAf,GAAoBP,MAAM,CAACO,EAAP,GAAY,UAASC,IAAT,EAAeC,EAAf,EAAmB;AACjD,OAAKC,gBAAL,CAAsBF,IAAtB,EAA4BC,EAA5B;AACD,CAFD;AAGA;;;;;AAGA,MAAME,IAAI,GAAGV,CAAC,CAAC,SAAD,CAAd;AACA,MAAMW,WAAW,GAAGX,CAAC,CAAC,UAAD,CAArB;;AAEA,eAAeY,YAAf,CAA4BC,KAA5B,EAAmC;AACjC,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEjB,KAAM,GAAED,QAAS,MAAKgB,KAAM,EAAhC,CAAvB;AACA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,SAAOD,IAAP;AACD;;AACD,eAAeE,YAAf,CAA4BC,CAA5B,EAA+B;AAC7BA,EAAAA,CAAC,CAACC,cAAF;AACAC,EAAAA,eAAe,CAACX,IAAI,CAACG,KAAL,CAAWS,KAAZ,CAAf;AACD;;AAED,eAAeD,eAAf,CAA+BR,KAA/B,EAAsC;AACpC;AACAH,EAAAA,IAAI,CAACa,MAAL,CAAYC,QAAZ,GAAuB,IAAvB,CAFoC,CAGpC;;AACA,QAAMC,OAAO,GAAG,MAAMb,YAAY,CAACC,KAAD,CAAlC,CAJoC,CAKpC;;AACAH,EAAAA,IAAI,CAACa,MAAL,CAAYC,QAAZ,GAAuB,KAAvB;AACAE,EAAAA,cAAc,CAACD,OAAO,CAACE,OAAT,CAAd;AACD;;AAED,SAASD,cAAT,CAAwBD,OAAxB,EAAiC;AAC/BG,EAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,QAAMC,IAAI,GAAGL,OAAO,CAACM,GAAR,CACXC,MAAM,IAAK;MACTA,MAAM,CAACC,KAAM;KACdD,MAAM,CAACE,WAAY;EACtBF,MAAM,CAACG,SAAP,IAAqB,aAAYH,MAAM,CAACG,SAAU,UAASH,MAAM,CAACC,KAAM,KAAK;WACpED,MAAM,CAACI,IAAK;OALR,CAAb;AAQAzB,EAAAA,WAAW,CAAC0B,SAAZ,GAAwBP,IAAI,CAACQ,IAAL,CAAU,EAAV,CAAxB;AACD;;AAED5B,IAAI,CAACJ,EAAL,CAAQ,QAAR,EAAkBY,YAAlB;AACAG,eAAe,CAAC,MAAD,CAAf","file":"recipe_puppy_with_vanilla.js.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/* eslint-disable no-use-before-define */\r\nconst endpoint = 'http://www.recipepuppy.com/api';\r\nconst proxy = `https://cors-anywhere.herokuapp.com/`;\r\nwindow.$ = document.querySelector.bind(document); // same thing than queryselector\r\n// eslint-disable-next-line no-multi-assign\r\nNode.prototype.on = window.on = function(name, fn) {\r\n  this.addEventListener(name, fn);\r\n};\r\n/* instead of\r\ndocument.querySelector('.search').addEventListener('click', handleClick)\r\n */\r\nconst form = $('.search');\r\nconst recipesGrid = $('.recipes');\r\n\r\nasync function fetchRecipes(query) {\r\n  const res = await fetch(`${proxy}${endpoint}?q=${query}`);\r\n  const data = await res.json();\r\n  return data;\r\n}\r\nasync function handleSubmit(e) {\r\n  e.preventDefault();\r\n  fetchAndDisplay(form.query.value);\r\n}\r\n\r\nasync function fetchAndDisplay(query) {\r\n  // turn the form off\r\n  form.submit.disabled = true;\r\n  // submit the search\r\n  const recipes = await fetchRecipes(query);\r\n  // turn the form on again\r\n  form.submit.disabled = false;\r\n  displayRecipes(recipes.results);\r\n}\r\n\r\nfunction displayRecipes(recipes) {\r\n  console.log('Fetching data and cooking it to HTML');\r\n  const html = recipes.map(\r\n    recipe => `<div class=\"recipe\">\r\n<h2>${recipe.title}</h2>\r\n<p>${recipe.ingredients}</p>\r\n${recipe.thumbnail && `<img src=\"${recipe.thumbnail}\" alt=\"${recipe.title}\"/>`}\r\n<a href=\"${recipe.href}\">View Recipe ğŸ¥£ğŸ–</a>\r\n</div>`\r\n  );\r\n  recipesGrid.innerHTML = html.join('');\r\n}\r\n\r\nform.on('submit', handleSubmit);\r\nfetchAndDisplay('beef');\r\n"]}